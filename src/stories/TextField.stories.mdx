import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks'

import { TextField, Icon } from '../components'
import { ThemeProvider } from '../theme'

<Meta title='Data input/TextField' component={TextField} argTypes={{ error: { controls: 'boolean' } }} />

export const TextFieldControls = args => (
  <ThemeProvider>
    <TextField {...args} />
  </ThemeProvider>
)

# TextField

O componente de `TextField` é utilizado para que o usuário possa inserir informações na aplicação. Sua estrutura é composta por um Label (definido pela prop `label`, que recebe children), um campo de entrada de dados (que utiliza as props `name` e `placeholder`) e uma mensagem de auxílio (definida pela prop `message`).

<Story
  name='Base'
  args={{ label: 'Label', message: 'Message', placeholder: 'Placeholder', error: false, disabled: false }}
  parameters={{
    design: {
      type: 'figma',
      url: 'https://www.figma.com/file/O3bKxIcsj2rc1FNIRclJyT/Design-System?node-id=213%3A87'
    }
  }}
>
  {TextFieldControls.bind({})}
</Story>

# Affixes

O `TextField` pode receber prefixos e sufixos para trazer um feedback para o usuário de qual é o escopo das informações inseridas. Também é possível utilizar affixes customizados, elementos children podem ser passados através das props `customPrefix` e `customSuffix`.

<Canvas>
  <Story
    name='Affixes'
    parameters={{
      design: {
        type: 'figma',
        url: 'https://www.figma.com/file/O3bKxIcsj2rc1FNIRclJyT/Design-System?node-id=213%3A87'
      }
    }}
  >
    <ThemeProvider>
      <TextField name='prefix' label='Prefix' placeholder='Prefix' prefix='R$' />
      <TextField mt={'1%'} name='prefix' label='Prefix' placeholder='Custom Prefix' customPrefix={<Icon />} />
      <TextField mt={'1%'} name='suffix' label='Suffix' placeholder='Suffix' suffix='reais' />
      <TextField mt={'1%'} name='suffix' label='Suffix' placeholder='Custom Suffix' customSuffix={<Icon />} />
    </ThemeProvider>
  </Story>
</Canvas>

# Error

Passando a prop de `error` para o `TextField`, o usuário pode receber um feedback visível que existe algum ponto a ser alterado no input em questão.

<Canvas>
  <Story
    name='Error'
    parameters={{
      design: {
        type: 'figma',
        url: 'https://www.figma.com/file/O3bKxIcsj2rc1FNIRclJyT/Design-System?node-id=213%3A87'
      }
    }}
  >
    <ThemeProvider>
      <TextField name='error' label='Error' placeholder='Error TextField' message='Required' error />
    </ThemeProvider>
  </Story>
</Canvas>

# Border Color

Através da prop `borderColor` que pode ser passada para o `TextField`, é possível alterar a cor da borda do Input.

<Canvas>
  <Story
    name='Border Color'
    parameters={{
      design: {
        type: 'figma',
        url: 'https://www.figma.com/file/O3bKxIcsj2rc1FNIRclJyT/Design-System?node-id=213%3A87'
      }
    }}
  >
    <ThemeProvider>
      <TextField
        name='borderColor'
        label='Border Color'
        placeholder='Border Color'
        borderColor='primary'
        inputProps={{ maxLength: '5' }}
      />
    </ThemeProvider>
  </Story>
</Canvas>

# Height | Width

Através das props `height` e `width` é possível alterar a altura e largura do input.

<Canvas>
  <Story
    name='Height | Width'
    parameters={{
      design: {
        type: 'figma',
        url: 'https://www.figma.com/file/O3bKxIcsj2rc1FNIRclJyT/Design-System?node-id=213%3A87'
      }
    }}
  >
    <ThemeProvider>
      <TextField name='height' label='Height' placeholder='Height' height='100px' />
      <TextField name='width' label='Width' placeholder='Width' width='200px' />
      <TextField name='heightWidth' label='Height e Width' placeholder='Height e Width' height='100px' width='200px' />
    </ThemeProvider>
  </Story>
</Canvas>

# Disabled

O `TextField` pode receber a prop de `disabled`, que desabilita todo o seu uso.

<Canvas>
  <Story
    name='Disabled'
    parameters={{
      design: {
        type: 'figma',
        url: 'https://www.figma.com/file/O3bKxIcsj2rc1FNIRclJyT/Design-System?node-id=213%3A87'
      }
    }}
  >
    <ThemeProvider>
      <TextField
        name='disabled'
        label='Disabled'
        placeholder='Disabled TextField'
        disabled
        message='Disabled'
        prefix='R$'
        suffix='reais'
      />
    </ThemeProvider>
  </Story>
</Canvas>

# onChange

O `TextField` pode receber a prop de `onChange`, onde o seu valor é uma função que será passada para o elemento HTML `input` do `TextField` e executada no evento de `onChange`. Sendo possível de se utilizar com a prop `value` quando se busca realizar o uso como um componente controlado.

<Canvas>
  <Story
    name='onChange'
    parameters={{
      design: {
        type: 'figma',
        url: 'https://www.figma.com/file/O3bKxIcsj2rc1FNIRclJyT/Design-System?node-id=213%3A87'
      }
    }}
  >
    <ThemeProvider>
      <TextField
        name='onChange'
        label='onChange'
        placeholder='TextField with onChange'
        message='onChange'
        onChange={event => alert(`onChange: ${event.target.value}`)}
      />
    </ThemeProvider>
  </Story>
</Canvas>

# inputProps

O `TextField` pode receber a prop de `inputProps`, onde o seu valor é um objeto contendo todas as props que serão utilizadas no elemento HTML `input` do `TextField`.

<Canvas>
  <Story
    name='inputProps'
    parameters={{
      design: {
        type: 'figma',
        url: 'https://www.figma.com/file/O3bKxIcsj2rc1FNIRclJyT/Design-System?node-id=213%3A87'
      }
    }}
  >
    <ThemeProvider>
      <TextField
        name='inputProps'
        label='inputProps'
        placeholder='TextField with inputProps'
        message='inputProps'
        inputProps={{ maxLength: 10 }}
      />
    </ThemeProvider>
  </Story>
</Canvas>

# defaultValue

O `TextField` pode receber a prop `defaultValue`, onde o seu valor será aplicado no elemento HTML `input` do `TextField`.

<Canvas>
  <Story
    name='defaultValue'
    parameters={{
      design: {
        type: 'figma',
        url: 'https://www.figma.com/file/O3bKxIcsj2rc1FNIRclJyT/Design-System?node-id=213%3A87'
      }
    }}
  >
    <ThemeProvider>
      <TextField
        name='defaultValue'
        label='defaultValue'
        placeholder='TextField with defaultValue'
        message='defaultValue'
        defaultValue='defaultValue'
      />
    </ThemeProvider>
  </Story>
</Canvas>

<ArgsTable of={TextField} />
